{"ast":null,"code":"import React,{useState,useEffect}from'react';import axios from'axios';import{Container,ListGroup,Form,Button,Alert}from'react-bootstrap';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Tailoring=()=>{const[isAuthenticated,setIsAuthenticated]=useState(!!localStorage.getItem('token'));const[shops,setShops]=useState([]);const[shopId,setShopId]=useState('');const[waist,setWaist]=useState('');const[neck,setNeck]=useState('');const[pantHeight,setPantHeight]=useState('');const[pantWidth,setPantWidth]=useState('');const[success,setSuccess]=useState('');const[error,setError]=useState('');useEffect(()=>{if(!isAuthenticated){window.location.href='/login';return;}// Fallback list of tailoring shops near Tirupati (no Google Maps API required)\nsetShops([{id:'shop1',name:'Sri Tailors',address:'Rly Kodur, Tirupati, AP',distance:'1km'},{id:'shop2',name:'Venkat Tailoring',address:'TP Area, Tirupati, AP',distance:'2km'},{id:'shop3',name:'Lakshmi Stitch',address:'Balaji Colony, Tirupati, AP',distance:'3km'},{id:'shop4',name:'Raja Tailors',address:'MR Palli, Tirupati, AP',distance:'2.5km'},{id:'shop5',name:'Kumar Tailoring Works',address:'Leela Mahal Road, Tirupati, AP',distance:'4km'}]);},[isAuthenticated]);const handleSubmit=async e=>{e.preventDefault();if(!isAuthenticated){setError('Please log in to request tailoring');return;}try{const measurementText=`Waist: ${waist}, Neck: ${neck}, Pant Height: ${pantHeight}, Pant Width: ${pantWidth}`;await axios.post('http://143.244.140.159:5000/api/tailoring/request',{userId:localStorage.getItem('userId')||'guest',shopId,measurements:measurementText});setSuccess('Tailoring request sent!');setError('');setShopId('');setWaist('');setNeck('');setPantHeight('');setPantWidth('');}catch(err){setError('Failed to send request');setSuccess('');console.error(err);}};if(!isAuthenticated)return null;return/*#__PURE__*/_jsxs(Container,{className:\"my-5\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"header-title\",children:\"DD Tailoring Services\"}),success&&/*#__PURE__*/_jsx(Alert,{variant:\"success\",children:success}),error&&/*#__PURE__*/_jsx(Alert,{variant:\"danger\",children:error}),/*#__PURE__*/_jsx(\"h3\",{className:\"mb-4\",children:\"Tailoring Shops near Tirupati\"}),/*#__PURE__*/_jsx(ListGroup,{className:\"mb-4\",children:shops.map(shop=>/*#__PURE__*/_jsxs(ListGroup.Item,{active:shopId===shop.id,onClick:()=>setShopId(shop.id),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"h5\",{children:shop.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"mb-0\",children:[shop.address,\" (\",shop.distance,\")\"]})]},shop.id))}),/*#__PURE__*/_jsxs(Form,{onSubmit:handleSubmit,children:[/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Waist (in inches)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:waist,onChange:e=>setWaist(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Neck (in inches)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:neck,onChange:e=>setNeck(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pant Height (in inches)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:pantHeight,onChange:e=>setPantHeight(e.target.value),required:true})]}),/*#__PURE__*/_jsxs(Form.Group,{className:\"mb-3\",children:[/*#__PURE__*/_jsx(Form.Label,{children:\"Pant Width (in inches)\"}),/*#__PURE__*/_jsx(Form.Control,{type:\"number\",value:pantWidth,onChange:e=>setPantWidth(e.target.value),required:true})]}),/*#__PURE__*/_jsx(Button,{variant:\"primary\",type:\"submit\",disabled:!shopId,children:\"Request Tailoring\"})]})]});};export default Tailoring;","map":{"version":3,"names":["React","useState","useEffect","axios","Container","ListGroup","Form","Button","Alert","jsx","_jsx","jsxs","_jsxs","Tailoring","isAuthenticated","setIsAuthenticated","localStorage","getItem","shops","setShops","shopId","setShopId","waist","setWaist","neck","setNeck","pantHeight","setPantHeight","pantWidth","setPantWidth","success","setSuccess","error","setError","window","location","href","id","name","address","distance","handleSubmit","e","preventDefault","measurementText","post","userId","measurements","err","console","className","children","variant","map","shop","Item","active","onClick","style","cursor","onSubmit","Group","Label","Control","type","value","onChange","target","required","disabled"],"sources":["/var/www/dharshangroups/client/src/pages/Tailoring.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport axios from 'axios';\nimport { Container, ListGroup, Form, Button, Alert } from 'react-bootstrap';\n\nconst Tailoring = () => {\n  const [isAuthenticated, setIsAuthenticated] = useState(!!localStorage.getItem('token'));\n  const [shops, setShops] = useState([]);\n  const [shopId, setShopId] = useState('');\n  const [waist, setWaist] = useState('');\n  const [neck, setNeck] = useState('');\n  const [pantHeight, setPantHeight] = useState('');\n  const [pantWidth, setPantWidth] = useState('');\n  const [success, setSuccess] = useState('');\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    if (!isAuthenticated) {\n      window.location.href = '/login';\n      return;\n    }\n\n    // Fallback list of tailoring shops near Tirupati (no Google Maps API required)\n    setShops([\n      { id: 'shop1', name: 'Sri Tailors', address: 'Rly Kodur, Tirupati, AP', distance: '1km' },\n      { id: 'shop2', name: 'Venkat Tailoring', address: 'TP Area, Tirupati, AP', distance: '2km' },\n      { id: 'shop3', name: 'Lakshmi Stitch', address: 'Balaji Colony, Tirupati, AP', distance: '3km' },\n      { id: 'shop4', name: 'Raja Tailors', address: 'MR Palli, Tirupati, AP', distance: '2.5km' },\n      { id: 'shop5', name: 'Kumar Tailoring Works', address: 'Leela Mahal Road, Tirupati, AP', distance: '4km' },\n    ]);\n  }, [isAuthenticated]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!isAuthenticated) {\n      setError('Please log in to request tailoring');\n      return;\n    }\n    try {\n      const measurementText = `Waist: ${waist}, Neck: ${neck}, Pant Height: ${pantHeight}, Pant Width: ${pantWidth}`;\n      await axios.post('http://143.244.140.159:5000/api/tailoring/request', {\n        userId: localStorage.getItem('userId') || 'guest',\n        shopId,\n        measurements: measurementText,\n      });\n      setSuccess('Tailoring request sent!');\n      setError('');\n      setShopId('');\n      setWaist('');\n      setNeck('');\n      setPantHeight('');\n      setPantWidth('');\n    } catch (err) {\n      setError('Failed to send request');\n      setSuccess('');\n      console.error(err);\n    }\n  };\n\n  if (!isAuthenticated) return null;\n\n  return (\n    <Container className=\"my-5\">\n      <h1 className=\"header-title\">DD Tailoring Services</h1>\n      {success && <Alert variant=\"success\">{success}</Alert>}\n      {error && <Alert variant=\"danger\">{error}</Alert>}\n      <h3 className=\"mb-4\">Tailoring Shops near Tirupati</h3>\n      <ListGroup className=\"mb-4\">\n        {shops.map(shop => (\n          <ListGroup.Item\n            key={shop.id}\n            active={shopId === shop.id}\n            onClick={() => setShopId(shop.id)}\n            style={{ cursor: 'pointer' }}\n          >\n            <h5>{shop.name}</h5>\n            <p className=\"mb-0\">{shop.address} ({shop.distance})</p>\n          </ListGroup.Item>\n        ))}\n      </ListGroup>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Waist (in inches)</Form.Label>\n          <Form.Control type=\"number\" value={waist} onChange={(e) => setWaist(e.target.value)} required />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Neck (in inches)</Form.Label>\n          <Form.Control type=\"number\" value={neck} onChange={(e) => setNeck(e.target.value)} required />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Pant Height (in inches)</Form.Label>\n          <Form.Control type=\"number\" value={pantHeight} onChange={(e) => setPantHeight(e.target.value)} required />\n        </Form.Group>\n        <Form.Group className=\"mb-3\">\n          <Form.Label>Pant Width (in inches)</Form.Label>\n          <Form.Control type=\"number\" value={pantWidth} onChange={(e) => setPantWidth(e.target.value)} required />\n        </Form.Group>\n        <Button variant=\"primary\" type=\"submit\" disabled={!shopId}>Request Tailoring</Button>\n      </Form>\n    </Container>\n  );\n};\n\nexport default Tailoring;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}